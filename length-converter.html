<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é•·åº¦æ›ç®—å™¨ | Widget å·¥å…·é›†</title>
    <link rel="stylesheet" href="styles-bw.css">
</head>
<body class="page-length">
    <div class="container">
        <div class="header">
            <h1>ğŸ“ é•·åº¦æ›ç®—å™¨</h1>
            <div class="subtitle">å…¬åˆ¶ã€è‹±åˆ¶å–®ä½å¿«é€Ÿæ›ç®—ï¼Œæ”¯æ´é›™å‘è½‰æ›</div>
        </div>

        <div class="main-content">
            <!-- è½‰æ›æ¨¡å¼é¸æ“‡ -->
            <div class="mode-selector">
                <button type="button" class="mode-btn active" onclick="switchMode('convert')">å–®ä½æ›ç®—</button>
                <button type="button" class="mode-btn" onclick="switchMode('reference')">æ›ç®—è¡¨</button>
            </div>

            <!-- æ›ç®—æ¨¡å¼ -->
            <div id="convertMode" class="calculator-mode active">
                <form id="lengthForm">
                    <div class="form-group">
                        <label for="inputValue">è¼¸å…¥æ•¸å€¼</label>
                        <input type="number" id="inputValue" step="any" placeholder="è«‹è¼¸å…¥é•·åº¦æ•¸å€¼" required oninput="convertLength()">
                    </div>

                    <div class="form-group">
                        <label for="fromUnit">ä¾†æºå–®ä½</label>
                        <select id="fromUnit" required onchange="convertLength()">
                            <optgroup label="ğŸ“ å…¬åˆ¶å–®ä½">
                                <option value="mm">æ¯«ç±³ (mm)</option>
                                <option value="cm" selected>å…¬åˆ† (cm)</option>
                                <option value="m">å…¬å°º (m)</option>
                                <option value="km">å…¬é‡Œ (km)</option>
                            </optgroup>
                            <optgroup label="ğŸ“ è‹±åˆ¶å–®ä½">
                                <option value="in">è‹±å‹ (in)</option>
                                <option value="ft">è‹±å°º (ft)</option>
                                <option value="yd">ç¢¼ (yd)</option>
                                <option value="mi">è‹±é‡Œ (mi)</option>
                            </optgroup>
                            <optgroup label="ğŸŒŠ å…¶ä»–å–®ä½">
                                <option value="nmi">æµ·é‡Œ (nmi)</option>
                                <option value="mil">å¯†è€³ (mil)</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="conversion-arrow">
                        <button type="button" class="swap-btn" onclick="swapUnits()" title="äº¤æ›å–®ä½">â‡…</button>
                    </div>

                    <div class="form-group">
                        <label for="toUnit">ç›®æ¨™å–®ä½</label>
                        <select id="toUnit" required onchange="convertLength()">
                            <optgroup label="ğŸ“ å…¬åˆ¶å–®ä½">
                                <option value="mm">æ¯«ç±³ (mm)</option>
                                <option value="cm">å…¬åˆ† (cm)</option>
                                <option value="m" selected>å…¬å°º (m)</option>
                                <option value="km">å…¬é‡Œ (km)</option>
                            </optgroup>
                            <optgroup label="ğŸ“ è‹±åˆ¶å–®ä½">
                                <option value="in">è‹±å‹ (in)</option>
                                <option value="ft">è‹±å°º (ft)</option>
                                <option value="yd">ç¢¼ (yd)</option>
                                <option value="mi">è‹±é‡Œ (mi)</option>
                            </optgroup>
                            <optgroup label="ğŸŒŠ å…¶ä»–å–®ä½">
                                <option value="nmi">æµ·é‡Œ (nmi)</option>
                                <option value="mil">å¯†è€³ (mil)</option>
                            </optgroup>
                        </select>
                    </div>
                </form>

                <div id="lengthResult" class="result">
                    <h3>ğŸ“ æ›ç®—çµæœ</h3>
                    <div class="result-value" id="resultValue">è¼¸å…¥æ•¸å€¼å¾Œé¡¯ç¤ºçµæœ</div>
                    <div class="result-detail" id="resultDetail"></div>
                </div>

                <!-- å¿«é€Ÿè½‰æ› -->
                <div class="quick-convert">
                    <h3>âš¡ å¿«é€Ÿæ›ç®—</h3>
                    <div class="quick-grid">
                        <button type="button" class="quick-btn" onclick="quickConvert(1, 'm', 'ft')">1å…¬å°º â†’ è‹±å°º</button>
                        <button type="button" class="quick-btn" onclick="quickConvert(1, 'km', 'mi')">1å…¬é‡Œ â†’ è‹±é‡Œ</button>
                        <button type="button" class="quick-btn" onclick="quickConvert(1, 'in', 'cm')">1è‹±å‹ â†’ å…¬åˆ†</button>
                        <button type="button" class="quick-btn" onclick="quickConvert(1, 'ft', 'm')">1è‹±å°º â†’ å…¬å°º</button>
                    </div>
                </div>
            </div>

            <!-- æ›ç®—è¡¨æ¨¡å¼ -->
            <div id="referenceMode" class="calculator-mode">
                <h3>ğŸ“Š å¸¸ç”¨æ›ç®—å°ç…§è¡¨</h3>

                <div class="reference-section">
                    <h4>å…¬åˆ¶å–®ä½æ›ç®—</h4>
                    <table class="reference-table">
                        <tr><th>å–®ä½</th><th>= å…¬å°º</th><th>= å…¬åˆ†</th></tr>
                        <tr><td>1 æ¯«ç±³ (mm)</td><td>0.001 m</td><td>0.1 cm</td></tr>
                        <tr><td>1 å…¬åˆ† (cm)</td><td>0.01 m</td><td>1 cm</td></tr>
                        <tr><td>1 å…¬å°º (m)</td><td>1 m</td><td>100 cm</td></tr>
                        <tr><td>1 å…¬é‡Œ (km)</td><td>1000 m</td><td>100,000 cm</td></tr>
                    </table>
                </div>

                <div class="reference-section">
                    <h4>è‹±åˆ¶å–®ä½æ›ç®—</h4>
                    <table class="reference-table">
                        <tr><th>å–®ä½</th><th>= è‹±å°º</th><th>= è‹±å‹</th></tr>
                        <tr><td>1 è‹±å‹ (in)</td><td>0.0833 ft</td><td>1 in</td></tr>
                        <tr><td>1 è‹±å°º (ft)</td><td>1 ft</td><td>12 in</td></tr>
                        <tr><td>1 ç¢¼ (yd)</td><td>3 ft</td><td>36 in</td></tr>
                        <tr><td>1 è‹±é‡Œ (mi)</td><td>5,280 ft</td><td>63,360 in</td></tr>
                    </table>
                </div>

                <div class="reference-section">
                    <h4>å…¬åˆ¶ â‡„ è‹±åˆ¶</h4>
                    <table class="reference-table">
                        <tr><th>å…¬åˆ¶</th><th>è‹±åˆ¶</th></tr>
                        <tr><td>1 å…¬åˆ†</td><td>â‰ˆ 0.394 è‹±å‹</td></tr>
                        <tr><td>1 å…¬å°º</td><td>â‰ˆ 3.281 è‹±å°º</td></tr>
                        <tr><td>1 å…¬é‡Œ</td><td>â‰ˆ 0.621 è‹±é‡Œ</td></tr>
                        <tr><td>1 è‹±å‹</td><td>= 2.54 å…¬åˆ†</td></tr>
                        <tr><td>1 è‹±å°º</td><td>â‰ˆ 0.305 å…¬å°º</td></tr>
                        <tr><td>1 è‹±é‡Œ</td><td>â‰ˆ 1.609 å…¬é‡Œ</td></tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="back-btn">
            <a href="index.html">â† å›åˆ°é¦–é </a>
        </div>
    </div>

    <script>
        // å–®ä½æ›ç®—ä¿‚æ•¸ï¼ˆè½‰æ›ç‚ºå…¬å°ºï¼‰
        const unitConversions = {
            // å…¬åˆ¶å–®ä½
            'mm': 0.001,
            'cm': 0.01,
            'm': 1,
            'km': 1000,
            // è‹±åˆ¶å–®ä½
            'in': 0.0254,
            'ft': 0.3048,
            'yd': 0.9144,
            'mi': 1609.344,
            // å…¶ä»–å–®ä½
            'nmi': 1852,     // æµ·é‡Œ
            'mil': 0.0000254  // å¯†è€³
        };

        // å–®ä½é¡¯ç¤ºåç¨±
        const unitNames = {
            'mm': 'æ¯«ç±³',
            'cm': 'å…¬åˆ†',
            'm': 'å…¬å°º',
            'km': 'å…¬é‡Œ',
            'in': 'è‹±å‹',
            'ft': 'è‹±å°º',
            'yd': 'ç¢¼',
            'mi': 'è‹±é‡Œ',
            'nmi': 'æµ·é‡Œ',
            'mil': 'å¯†è€³'
        };

        function switchMode(mode) {
            // åˆ‡æ›æŒ‰éˆ•æ¨£å¼
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // åˆ‡æ›å…§å®¹å€åŸŸ
            document.querySelectorAll('.calculator-mode').forEach(mode => {
                mode.classList.remove('active');
            });
            document.getElementById(mode + 'Mode').classList.add('active');
        }

        function convertLength() {
            const inputValue = document.getElementById('inputValue').value;
            const fromUnit = document.getElementById('fromUnit').value;
            const toUnit = document.getElementById('toUnit').value;

            if (!inputValue || !fromUnit || !toUnit) {
                document.getElementById('resultValue').textContent = 'è¼¸å…¥æ•¸å€¼å¾Œé¡¯ç¤ºçµæœ';
                document.getElementById('resultDetail').textContent = '';
                return;
            }

            const inputNumber = parseFloat(inputValue);
            if (isNaN(inputNumber)) {
                document.getElementById('resultValue').textContent = 'è«‹è¼¸å…¥æœ‰æ•ˆæ•¸å€¼';
                document.getElementById('resultDetail').textContent = '';
                return;
            }

            // å°‡è¼¸å…¥å€¼è½‰æ›ç‚ºå…¬å°ºï¼Œå†è½‰æ›ç‚ºç›®æ¨™å–®ä½
            const inMeters = inputNumber * unitConversions[fromUnit];
            const result = inMeters / unitConversions[toUnit];

            // æ ¼å¼åŒ–çµæœ
            const formattedResult = formatResult(result);
            const fromUnitName = unitNames[fromUnit];
            const toUnitName = unitNames[toUnit];

            document.getElementById('resultValue').innerHTML =
                `<strong>${formattedResult} ${toUnitName}</strong>`;

            document.getElementById('resultDetail').innerHTML =
                `${inputNumber} ${fromUnitName} = ${formattedResult} ${toUnitName}`;
        }

        function formatResult(value) {
            if (Math.abs(value) >= 1000000) {
                return value.toExponential(6);
            } else if (Math.abs(value) >= 100) {
                return value.toFixed(2).replace(/\.?0+$/, '');
            } else if (Math.abs(value) >= 1) {
                return value.toFixed(4).replace(/\.?0+$/, '');
            } else if (Math.abs(value) >= 0.001) {
                return value.toFixed(6).replace(/\.?0+$/, '');
            } else if (Math.abs(value) > 0) {
                return value.toExponential(6);
            } else {
                return '0';
            }
        }

        function swapUnits() {
            const fromUnit = document.getElementById('fromUnit');
            const toUnit = document.getElementById('toUnit');

            const tempValue = fromUnit.value;
            fromUnit.value = toUnit.value;
            toUnit.value = tempValue;

            convertLength();
        }

        function quickConvert(value, from, to) {
            document.getElementById('inputValue').value = value;
            document.getElementById('fromUnit').value = from;
            document.getElementById('toUnit').value = to;
            convertLength();

            // åˆ‡æ›åˆ°è½‰æ›æ¨¡å¼
            switchMode('convert');
            document.querySelectorAll('.mode-btn')[0].classList.add('active');
            document.querySelectorAll('.mode-btn')[1].classList.remove('active');
        }

        // é é¢è¼‰å…¥æ™‚åŸ·è¡Œåˆå§‹è½‰æ›
        document.addEventListener('DOMContentLoaded', function() {
            // è¨­å®šé è¨­å€¼
            document.getElementById('inputValue').value = '1';
            convertLength();
        });
    </script>

    <style>
        /* é•·åº¦æ›ç®—å™¨å°ˆç”¨æ¨£å¼ */
        .page-length body {
            background: linear-gradient(135deg, #333 0%, #222 100%);
            padding: 10px 20px 20px 20px;
        }

        .page-length .header {
            background: linear-gradient(135deg, #444 0%, #333 100%);
            color: #f0f0f0;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            text-align: center;
            margin: 0;
        }

        .page-length .header h1,
        .page-length .header .subtitle {
            color: #f0f0f0;
            margin-bottom: 8px;
        }

        .page-length .main-content {
            padding: 20px;
        }

        .conversion-arrow {
            text-align: center;
            margin: 15px 0;
        }

        .swap-btn {
            background: linear-gradient(135deg, #555 0%, #444 100%);
            color: #f0f0f0;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .swap-btn:hover {
            transform: rotate(180deg);
        }

        .quick-convert {
            margin-top: 20px;
            padding: 15px;
            background: #444;
            border-radius: 10px;
            border-left: 4px solid #666;
        }

        .quick-convert h3 {
            color: #f0f0f0;
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .quick-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .quick-btn {
            background: #555;
            color: #f0f0f0;
            border: 1px solid #666;
            border-radius: 6px;
            padding: 8px 12px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quick-btn:hover {
            background: #666;
            color: #f0f0f0;
        }

        .reference-section {
            margin-bottom: 24px;
        }

        .reference-section h4 {
            color: #f0f0f0;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .reference-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }

        .reference-table th,
        .reference-table td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #555;
            color: #f0f0f0;
        }

        .reference-table th {
            background: #444;
            color: #f0f0f0;
            font-weight: 600;
        }

        .reference-table tr:nth-child(even) {
            background: #333;
        }

        .reference-table tr:hover {
            background: #444;
        }

        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 600px) {
            .quick-grid {
                grid-template-columns: 1fr;
            }

            .reference-table {
                font-size: 0.75rem;
            }

            .reference-table th,
            .reference-table td {
                padding: 6px;
            }
        }
    </style>
</body>
</html>