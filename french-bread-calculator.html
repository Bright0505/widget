<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>法國麵包配方計算器 | Widget 工具集</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* 法國麵包專屬樣式 */
        .page-bread button {
            background: #374151;
        }

        .page-bread button:hover {
            background: #1f2937;
        }

        .page-bread input:focus {
            border-color: #374151;
        }

        .page-bread .mode-btn.active {
            color: #374151;
        }

        .page-bread .result-value {
            color: #374151;
        }

        .page-bread .back-link a {
            color: #374151;
        }

        .page-bread .back-link a:hover {
            color: #1f2937;
        }

        .recipe-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e1e5e9;
        }

        .recipe-item:last-child {
            border-bottom: none;
            padding-top: 12px;
            margin-top: 8px;
            border-top: 2px solid #374151;
            font-weight: 700;
        }

        .ingredient-name {
            font-size: 1rem;
            color: #333;
        }

        .ingredient-value {
            display: flex;
            align-items: baseline;
            gap: 8px;
        }

        .ingredient-amount {
            font-size: 1.125rem;
            font-weight: 700;
            color: #374151;
        }

        .ingredient-percent {
            font-size: 0.875rem;
            color: #888;
        }

        .tips-section {
            background: #f9fafb;
            border-left: 4px solid #374151;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .tips-section h4 {
            color: #374151;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .tips-section ul {
            margin: 0;
            padding-left: 20px;
        }

        .tips-section li {
            color: #666;
            font-size: 0.875rem;
            line-height: 1.6;
            margin-bottom: 4px;
        }
    </style>
</head>
<body class="page-bread">
    <div class="container">
        <h1>🥖 法國麵包配方計算器</h1>

        <div class="mode-selector">
            <button type="button" class="mode-btn active" onclick="switchRecipe('t55')">T55 長棍</button>
            <button type="button" class="mode-btn" onclick="switchRecipe('t65')">T65 鄉村</button>
            <button type="button" class="mode-btn" onclick="switchRecipe('focaccia')">🫓 佛卡夏</button>
        </div>

        <!-- T55 配方 -->
        <div id="t55Mode" class="calculator-mode active">
            <form id="t55Form" onsubmit="calculateRecipe(event, 't55')">
                <div class="form-group">
                    <label for="t55Flour">麵粉重量</label>
                    <input type="number" id="t55Flour" step="1" min="1" required>
                    <div class="unit">單位：公克 (g) - 例如：500g</div>
                </div>

                <button type="submit">🥖 計算配方用量</button>
            </form>

            <div id="t55Result" class="result">
                <h3>📊 T55 配方用量</h3>
                <div id="t55Calculation"></div>
                <div class="tips-section">
                    <h4>💡 製作提示</h4>
                    <ul>
                        <li>發酵時間：室溫 2-3 小時或冷藏隔夜發酵</li>
                        <li>烘烤溫度：230-240°C（預熱充分）</li>
                        <li>烘烤時間：20-25 分鐘（表面金黃）</li>
                        <li>蒸氣：烤箱底部放水盤，烘烤時噴水製造蒸氣</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- T65 配方 -->
        <div id="t65Mode" class="calculator-mode">
            <form id="t65Form" onsubmit="calculateRecipe(event, 't65')">
                <div class="form-group">
                    <label for="t65Flour">麵粉重量</label>
                    <input type="number" id="t65Flour" step="1" min="1" required>
                    <div class="unit">單位：公克 (g) - 例如：500g</div>
                </div>

                <button type="submit">🍞 計算配方用量</button>
            </form>

            <div id="t65Result" class="result">
                <h3>📊 T65 配方用量</h3>
                <div id="t65Calculation"></div>
                <div class="tips-section">
                    <h4>💡 製作提示</h4>
                    <ul>
                        <li>發酵時間：室溫 3-4 小時或冷藏隔夜發酵</li>
                        <li>烘烤溫度：220-230°C（預熱充分）</li>
                        <li>烘烤時間：30-35 分鐘（敲擊底部有空心聲）</li>
                        <li>水合度較高，麵團較濕黏，可用刮板輔助整形</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 佛卡夏配方 -->
        <div id="focacciaMode" class="calculator-mode">
            <form id="focacciaForm" onsubmit="calculateRecipe(event, 'focaccia')">
                <div class="form-group">
                    <label for="focacciaFlour">麵粉重量</label>
                    <input type="number" id="focacciaFlour" step="1" min="1" required>
                    <div class="unit">單位：公克 (g) - 例如：500g</div>
                </div>

                <button type="submit">🫓 計算配方用量</button>
            </form>

            <div id="focacciaResult" class="result">
                <h3>📊 佛卡夏配方用量</h3>
                <div id="focacciaCalculation"></div>
                <div class="tips-section">
                    <h4>💡 製作提示</h4>
                    <ul>
                        <li>第一次發酵：室溫 1-2 小時（麵團膨脹至兩倍大）</li>
                        <li>整形：將麵團放入烤盤，輕壓延展成約 2cm 厚</li>
                        <li>第二次發酵：30-45 分鐘（表面蓋濕布）</li>
                        <li>戳洞技巧：用指尖在表面戳出均勻凹洞，淋上橄欖油</li>
                        <li>烘烤溫度：200-220°C（預熱充分）</li>
                        <li>烘烤時間：20-25 分鐘（表面金黃）</li>
                        <li>配料建議：迷迭香、海鹽片、番茄、橄欖、洋蔥等</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="back-link">
            <a href="index.html">← 返回工具集首頁</a>
        </div>
    </div>

    <script>
        // 配方資料
        const recipes = {
            t55: {
                name: 'T55 長棍麵包',
                flour: 100,
                water: 70,
                salt: 2,
                yeast: 1
            },
            t65: {
                name: 'T65 鄉村麵包',
                flour: 100,
                water: 75,
                salt: 2.2,
                yeast: 0.8
            },
            focaccia: {
                name: '義式佛卡夏',
                flour: 100,
                water: 75,
                salt: 2,
                yeast: 1,
                oliveOil: 6
            }
        };

        // 切換配方
        function switchRecipe(recipeType) {
            // 更新按鈕狀態
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // 切換顯示的模式
            document.querySelectorAll('.calculator-mode').forEach(mode => {
                mode.classList.remove('active');
            });
            document.getElementById(recipeType + 'Mode').classList.add('active');
        }

        // 計算配方
        function calculateRecipe(event, recipeType) {
            event.preventDefault();

            const flourInput = document.getElementById(recipeType + 'Flour');
            const flourWeight = parseFloat(flourInput.value);

            if (!flourWeight || flourWeight <= 0) {
                alert('請輸入有效的麵粉重量');
                return;
            }

            const recipe = recipes[recipeType];

            // 計算各材料重量
            const flour = flourWeight;
            const water = Math.round(flourWeight * recipe.water / 100 * 10) / 10;
            const salt = Math.round(flourWeight * recipe.salt / 100 * 10) / 10;
            const yeast = Math.round(flourWeight * recipe.yeast / 100 * 10) / 10;
            const oliveOil = recipe.oliveOil ? Math.round(flourWeight * recipe.oliveOil / 100 * 10) / 10 : 0;
            const total = Math.round((flour + water + salt + yeast + oliveOil) * 10) / 10;

            // 顯示結果
            const resultDiv = document.getElementById(recipeType + 'Result');
            const calculationDiv = document.getElementById(recipeType + 'Calculation');

            // 決定麵粉類型顯示
            let flourType = '麵粉';
            if (recipe.name.includes('T55')) flourType = '麵粉（T55）';
            else if (recipe.name.includes('T65')) flourType = '麵粉（T65）';
            else if (recipe.name.includes('佛卡夏')) flourType = '麵粉（高筋或中筋）';

            let ingredientsHTML = `
                <div class="recipe-item">
                    <span class="ingredient-name">🌾 ${flourType}</span>
                    <div class="ingredient-value">
                        <span class="ingredient-amount">${flour} g</span>
                        <span class="ingredient-percent">(100%)</span>
                    </div>
                </div>
                <div class="recipe-item">
                    <span class="ingredient-name">💧 水</span>
                    <div class="ingredient-value">
                        <span class="ingredient-amount">${water} g</span>
                        <span class="ingredient-percent">(${recipe.water}%)</span>
                    </div>
                </div>
                <div class="recipe-item">
                    <span class="ingredient-name">🧂 鹽</span>
                    <div class="ingredient-value">
                        <span class="ingredient-amount">${salt} g</span>
                        <span class="ingredient-percent">(${recipe.salt}%)</span>
                    </div>
                </div>
                <div class="recipe-item">
                    <span class="ingredient-name">🍄 新鮮酵母</span>
                    <div class="ingredient-value">
                        <span class="ingredient-amount">${yeast} g</span>
                        <span class="ingredient-percent">(${recipe.yeast}%)</span>
                    </div>
                </div>
            `;

            // 如果是佛卡夏配方，加入橄欖油
            if (recipe.oliveOil) {
                ingredientsHTML += `
                <div class="recipe-item">
                    <span class="ingredient-name">🫒 橄欖油</span>
                    <div class="ingredient-value">
                        <span class="ingredient-amount">${oliveOil} g</span>
                        <span class="ingredient-percent">(${recipe.oliveOil}%)</span>
                    </div>
                </div>
                `;
            }

            ingredientsHTML += `
                <div class="recipe-item">
                    <span class="ingredient-name">📦 總重量</span>
                    <div class="ingredient-value">
                        <span class="ingredient-amount">${total} g</span>
                    </div>
                </div>
            `;

            calculationDiv.innerHTML = ingredientsHTML;

            resultDiv.classList.add('show');
        }
    </script>
</body>
</html>
